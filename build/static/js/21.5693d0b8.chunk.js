(this["webpackJsonpGrape-font"]=this["webpackJsonpGrape-font"]||[]).push([[21],{1654:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return Te}));var c=t(38),r=t(22),a=t(1),i=t(11),o=t(0),s=t(394),u=t(44),l=t(67),d=t(420),b=t(39),j=t(599),x=t(1624),p=t(490),f=t(192),O=t(421),h=t(373),m=t(1581),g=t(1025),v=t(395),y=t(531),k=t(418),w=t(404),N=t(422),P=t(419),C=t(19),G=t(7),A=function(e){var n=e.max,t=e.title,c=e.description,a=e.onConfirm,i=e.onDismiss,s=e.action,u=e.tokenName,l=Object(o.useState)(""),d=Object(r.a)(l,2),b=d[0],j=d[1],x=Object(o.useMemo)((function(){return Object(C.b)(n)}),[n]),p=Object(o.useCallback)((function(e){return j(e.currentTarget.value)}),[j]),f=Object(o.useCallback)((function(){j(x)}),[x,j]);return Object(G.jsxs)(k.a,{children:[Object(G.jsx)(N.a,{text:t}),Object(G.jsx)(P.a,{value:b,onSelectMax:f,onChange:p,max:x,symbol:u}),Object(G.jsx)(O.a,{text:c}),Object(G.jsxs)(w.a,{children:[Object(G.jsx)(y.a,{text:"Cancel",onClick:i}),Object(G.jsx)(y.a,{text:s,onClick:function(){return a(b)}})]})]})},B=t(380),E=t(411),D=t(107);var R,S,T,z,I,M,F,W,U,V,_,K,L,H,J,$=function(){var e=Object(D.b)();return Object(o.useCallback)((function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unexpected error is occurred.";n.catch((function(n){n.message.includes("User denied")||(console.error("Uncaught exception: ".concat(n.stack)),e({error:{message:t,stack:n.stack}}))}))}),[e])},q=b.c.div(R||(R=Object(c.a)(["\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  color: #ccf;\n  margin-top: ","px;\n"])),(function(e){return-e.theme.spacing[3]})),Q=b.c.div(S||(S=Object(c.a)(["\n  background-color: rgba(0,0,0,0.2);\n  width: 80px;\n  height: 80px;\n  border-radius: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.spacing[2]})),X=b.c.div(T||(T=Object(c.a)(["\n  align-items: center;\n  display: flex;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.spacing[5]})),Y=b.c.div(z||(z=Object(c.a)(["\n  font-size: 20px;\n  padding-left: ","px;\n  padding-right: ","px;\n  padding-bottom: ","px;\n"])),(function(e){return e.theme.spacing[3]}),(function(e){return e.theme.spacing[3]}),(function(e){return e.theme.spacing[4]})),Z=b.c.div(I||(I=Object(c.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  font-weight: 600;\n"]))),ee=b.c.div(M||(M=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"])),(function(e){return e.theme.spacing[3]})),ne=b.c.span(F||(F=Object(c.a)([""]))),te=b.c.div(W||(W=Object(c.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),ce=function(e){var n=e.action,t=e.fromToken,c=e.fromTokenName,a=e.toToken,i=e.toTokenName,o=e.priceDesc,s=e.onExchange,u=e.disabled,l=void 0!==u&&u,d=e.disabledDescription,b=$(),y=Object(f.a)().contracts.Treasury,k=Object(E.b)(t,y.address),w=k.approveStatus,N=k.approve,P=Object(B.a)(t),C=Object(v.a)(Object(G.jsx)(A,{title:n,description:o,max:P,onConfirm:function(e){s(e),S()},action:n,tokenName:c})),D=Object(r.a)(C,2),R=D[0],S=D[1];return Object(G.jsx)(j.a,{children:Object(G.jsx)(p.a,{children:Object(G.jsxs)(te,{children:[Object(G.jsx)(q,{children:"".concat(n," ").concat(i)}),Object(G.jsxs)(X,{children:[Object(G.jsxs)(Z,{children:[Object(G.jsx)(Q,{children:Object(G.jsx)(h.a,{width:55,height:50,symbol:t.symbol})}),Object(G.jsx)(O.a,{text:c,color:"#930993"})]}),Object(G.jsx)(Y,{children:Object(G.jsx)(m.a,{icon:g.a})}),Object(G.jsxs)(Z,{children:[Object(G.jsx)(Q,{children:Object(G.jsx)(h.a,{width:55,height:50,symbol:a.symbol})}),Object(G.jsx)(O.a,{text:i,color:"#930993"})]})]}),Object(G.jsx)(ne,{children:o}),Object(G.jsx)(ee,{children:w===E.a.APPROVED||l?Object(G.jsx)(x.a,{className:l?"shinyButtonDisabled":"shinyButton",onClick:R,disabled:l,children:d||n}):Object(G.jsx)(x.a,{className:"shinyButton",disabled:w===E.a.PENDING||w===E.a.UNKNOWN,onClick:function(){return b(N(),"Unable to approve ".concat(c))},children:"Approve ".concat(c)})})]})})})},re=b.c.div(U||(U=Object(c.a)(["\n  height: ","px;\n  width: ","px;\n"])),(function(e){return e.size}),(function(e){return e.size})),ae=function(e){var n,t=e.size,c=void 0===t?"md":t,r=Object(o.useContext)(b.a).spacing;switch(c){case"lg":n=r[6];break;case"sm":n=r[2];break;default:n=r[4]}return Object(G.jsx)(re,{size:n})},ie=t(603),oe=t(611),se=t(391),ue=b.c.div(V||(V=Object(c.a)(["\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.spacing[2]})),le=b.c.span(_||(_=Object(c.a)(["\n  //color: ",";\n  text-align: center;\n"])),(function(e){return e.theme.color.grey[300]})),de=b.c.div(K||(K=Object(c.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: ","px;\n"])),(function(e){return e.theme.spacing[2]})),be=function(e){var n=e.tokenName,t=e.description,c=e.price;return Object(G.jsx)(j.a,{children:Object(G.jsxs)(de,{children:[Object(G.jsx)(ue,{children:"\ud83d\udcb0 ".concat(n," = ").concat(c)}),Object(G.jsx)(le,{children:t})]})})},je=t(30),xe=function(){var e=Object(o.useState)(je.a.from(0)),n=Object(r.a)(e,2),t=n[0],c=n[1],s=Object(f.a)();return Object(o.useEffect)((function(){function e(){return(e=Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=c,e.next=4,s.getBondsPurchasable();case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.error(e.t2);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c,s]),t},pe=je.a.from(10).pow(14),fe=pe.mul(101).div(100),Oe=t(1578),he=t(549),me=t(744),ge=t(1662),ve=t(467),ye=t(335),ke=t(1620),we=t(1026),Ne=t.n(we),Pe=Object(me.a)((function(e){return{textField:{color:"black","& *":{color:"black"}},text:{fontSize:"14px"},subTitle:{color:"#fff",fontSize:"14px",fontWeight:"bold"},greenText:{color:"#36d846",fontSize:"14px"},inputButton:{marginLeft:"8px",fontSize:"12px",borderRadius:"4px",background:"#0c7aca",border:"none",outline:"none",padding:"0px 4px",lineHeight:"24px",color:"white",cursor:"pointer"},input:{appearance:"none",border:"none",outline:"none",padding:"none",width:"100%",paddingBlock:"5px",backgroundColor:"transparent","&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{WebkitAppearance:"none"},"&[type=number]":{MozAppearance:"none"}}}})),Ce={position:"absolute",top:"50%",color:"#fff",left:"50%",transform:"translate(-50%, -50%)",width:"min(90%, 450px)",bgcolor:"rgba(0,0,0,0.8)",p:"24px",display:"flex",flexDirection:"column",outline:"none",boxSizing:"border-box",borderRadius:"12px"},Ge=function(e){var n=e.open,t=e.walletBondAmount,c=e.handleClose,a=Object(o.useState)(t),i=Object(r.a)(a,2),s=i[0],u=i[1],l=Object(o.useState)(1.1),d=Object(r.a)(l,2),b=d[0],j=d[1],x=Pe(),p=Object(o.useState)(1),f=Object(r.a)(p,2),O=f[0],h=f[1],m=Object(o.useState)("1"),g=Object(r.a)(m,2),v=g[0],y=g[1];return Object(o.useEffect)((function(){!function(e,n){var t=1+.7*(Number(n)-1);h(t.toFixed(3)),y((Number(e)*t).toFixed(2))}(s,b)}),[n,t,c,s,b]),Object(G.jsx)(ge.a,{open:n,children:Object(G.jsxs)(ve.a,{sx:Ce,children:[Object(G.jsx)(ve.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(G.jsx)(ve.a,{sx:{cursor:"pointer"},onClick:function(){c(),u(t)},children:Object(G.jsx)(Ne.a,{})})}),Object(G.jsxs)(ve.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(G.jsx)(ye.a,{className:x.text,children:"Enter GBonds amount:"}),Object(G.jsx)(ve.a,{sx:{borderRadius:"10px",bgcolor:"#eff2f4",border:"1px solid #d0d3d4",p:"10px",mt:"10px"},children:Object(G.jsx)(ve.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",mb:"10px"},children:Object(G.jsx)("input",{type:"text",value:s,className:x.input,onChange:function(e){u(e.target.value)}})})})]}),Object(G.jsxs)(ve.a,{mt:1,sx:{display:"flex",flexDirection:"column"},children:[Object(G.jsx)(ye.a,{className:x.text,children:"Enter Grape TWAP:"}),Object(G.jsx)(ve.a,{sx:{borderRadius:"10px",bgcolor:"#eff2f4",border:"1px solid #d0d3d4",p:"10px",mt:"10px"},children:Object(G.jsx)(ve.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",mb:"10px"},children:Object(G.jsx)("input",{type:"number",value:b,className:x.input,onChange:function(e){j(e.target.value)}})})})]}),Object(G.jsx)(ve.a,{mt:3,children:Object(G.jsxs)(ke.a,{container:!0,direction:"column",children:[Object(G.jsx)(ke.a,{item:!0,children:Object(G.jsxs)(ke.a,{container:!0,justifyContent:"space-between",children:[Object(G.jsx)(ke.a,{item:!0,children:"TWAP"}),Object(G.jsx)(ke.a,{item:!0,children:Object(G.jsx)("b",{children:b})})]})}),Object(G.jsx)(ke.a,{item:!0,children:Object(G.jsxs)(ke.a,{container:!0,justifyContent:"space-between",children:[Object(G.jsx)(ke.a,{item:!0,children:"GBonds amount"}),Object(G.jsx)(ke.a,{item:!0,children:Object(G.jsx)("b",{children:Number(s).toFixed(2)})})]})}),Object(G.jsx)(ke.a,{item:!0,children:Object(G.jsxs)(ke.a,{container:!0,style:{color:"#930993"},justifyContent:"space-between",children:[Object(G.jsx)(ke.a,{item:!0,children:"Ratio"}),Object(G.jsx)(ke.a,{item:!0,children:Object(G.jsxs)("b",{children:["1 / ",O]})})]})}),Object(G.jsx)(ke.a,{item:!0,children:Object(G.jsxs)(ke.a,{container:!0,style:{color:"#930993"},justifyContent:"space-between",children:[Object(G.jsx)(ke.a,{item:!0,children:"Grapes redeemed"}),Object(G.jsx)(ke.a,{item:!0,children:Object(G.jsx)("b",{children:v})})]})})]})})]})})},Ae=t(1027),Be=t.n(Ae),Ee=t(1678),De=b.c.div(L||(L=Object(c.a)(["\n  display: flex;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n"]))),Re=b.c.div(H||(H=Object(c.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n"]))),Se=b.c.div(J||(J=Object(c.a)(["\n  display: flex;\n  flex: 0.8;\n  margin: 0 20px;\n  flex-direction: column;\n\n  @media (max-width: 768px) {\n    width: 80%;\n    margin: 16px 0;\n  }\n"]))),Te=function(){var e=Object(l.b)().account,n=Object(f.a)(),t=Object(se.b)(),c=Object(ie.a)(),b=Object(oe.a)(),j=xe(),x=Object(B.a)(null===n||void 0===n?void 0:n.GBOND),p=Object(o.useMemo)((function(){return null!=x&&Number(x)>0?x:null}),[x]),O=Object(o.useCallback)(function(){var e=Object(i.a)(Object(a.a)().mark((function e(c){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.buyBonds(c);case 2:r=e.sent,t(r,{summary:"Buy ".concat(Number(c).toFixed(2)," GBOND with ").concat(c," GRAPE")});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n,t]),h=Object(o.useCallback)(function(){var e=Object(i.a)(Object(a.a)().mark((function e(c){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.redeemBonds(c);case 2:r=e.sent,t(r,{summary:"Redeem ".concat(c," GBOND")});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n,t]),m=Object(o.useMemo)((function(){return b.gt(fe)}),[b]),g=Object(o.useMemo)((function(){return Number(null===c||void 0===c?void 0:c.tokenInFtm)<1.01}),[c]),v=Object(o.useMemo)((function(){return(Number(null===c||void 0===c?void 0:c.treasuryGrapes)/1e18).toFixed(0)}),[c]),y=Object(o.useMemo)((function(){return null===c||void 0===c?void 0:c.circulatingSupply}),[c]),k=(Number(b)/1e18).toFixed(2),w=Object(o.useState)(!1),N=Object(r.a)(w,2),P=N[0],A=N[1];return Object(G.jsx)(u.c,{children:Object(G.jsx)(s.a,{children:e?Object(G.jsxs)(G.Fragment,{children:[p&&Object(G.jsx)(Ge,{open:P,walletBondAmount:Number(p)/Math.pow(10,18),handleClose:function(){A(!1)}}),Object(G.jsx)(ye.a,{color:"textPrimary",align:"center",variant:"h3",gutterBottom:!0,children:"Buy & Redeem Bonds"}),Object(G.jsxs)(ye.a,{color:"textPrimary",align:"center",variant:"h6",gutterBottom:!0,style:{marginBottom:"40px"},children:["Exchange Grapes for Bonds and burns Grape supply",Object(G.jsx)("br",{}),"Exchange Bonds for Grapes and earn premiums upon redemption"]}),Object(G.jsx)(ve.a,{mt:2,children:Object(G.jsx)(ke.a,{item:!0,xs:12,sm:12,justify:"center",style:{margin:"18px",display:"flex"},children:Object(G.jsx)(Oe.a,{variant:"filled",severity:"error",children:Object(G.jsx)("b",{children:"Bonds are emitted & premiums redeemable based on last epoch TWAP prices not the current TWAP!"})})})}),Object(G.jsxs)(Ee.a,{onClick:function(){A(!0)},sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"2px",cursor:"pointer"},children:[Object(G.jsx)(ye.a,{style:{fontSize:"15px",color:"white"},children:Object(G.jsx)("u",{children:"Estimate your GBonds redeem bonus"})}),Object(G.jsx)(Be.a,{style:{color:"white"}})]}),Object(G.jsxs)(De,{children:[Object(G.jsx)(Re,{children:Object(G.jsx)(ce,{action:"Purchase",fromToken:n.GRAPE,fromTokenName:"GRAPE",toToken:n.GBOND,toTokenName:"GBOND",priceDesc:g?Object(C.a)(j,18,4)+" GBOND available for purchase":"GRAPE is over peg",onExchange:O})}),Object(G.jsxs)(Se,{children:[Object(G.jsx)(be,{tokenName:"1 GRAPE",description:"Last-Hour TWAP Price",price:k+" GBOND"||!1}),Object(G.jsx)(ae,{size:"md"}),Object(G.jsx)(be,{tokenName:"1 GBOND",description:"Bond Price",price:Number(null===c||void 0===c?void 0:c.tokenInFtm).toFixed(2)+" GRAPE"||!1}),Object(G.jsx)(ve.a,{mt:3,children:Object(G.jsx)(ke.a,{item:!0,xs:12,sm:12,justify:"center",style:{display:"flex"},children:Object(G.jsxs)(Oe.a,{variant:"filled",severity:"error",children:[Object(G.jsx)("b",{children:"Grape Reserves:"})," ",null!==c&&void 0!==c&&c.treasuryGrapes?Object(he.a)(Number(v),0):"-",Object(G.jsx)("br",{}),Object(G.jsx)("b",{children:"Bond supply:"})," ",null!==c&&void 0!==c&&c.circulatingSupply?Object(he.a)(Number(y),0):"-"," ",Object(G.jsx)("br",{}),Object(G.jsxs)("b",{children:["When reserves are ",">"," bond supply debt phase has finished"]})]})})})]}),Object(G.jsx)(Re,{children:Object(G.jsx)(ce,{action:"Redeem",fromToken:n.GBOND,fromTokenName:"GBOND",toToken:n.GRAPE,toTokenName:"GRAPE",priceDesc:"".concat(Object(C.a)(x)," GBOND Available in wallet"),onExchange:h,disabledDescription:m?null:"Enabled when 1 GRAPE > $".concat(1.01)})})]})]}):Object(G.jsx)(d.a,{})})})}},391:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return u}));var c=t(0),r=t(34),a=t(67),i=t(94);function o(){var e=Object(a.b)(),n=e.chainId,t=e.account,o=Object(r.d)();return Object(c.useCallback)((function(e){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c.summary,a=c.approval;if(t&&n){var s=e.hash;if(!s)throw Error("No transaction hash found.");o(Object(i.a)({hash:s,from:t,chainId:n,approval:a,summary:r}))}}),[o,n,t])}function s(){var e,n=Object(a.b)().chainId,t=Object(r.e)((function(e){return e.transactions}));return n&&null!==(e=t[n])&&void 0!==e?e:{}}function u(e,n){var t=s();return Object(c.useMemo)((function(){return"string"===typeof e&&"string"===typeof n&&Object.keys(t).some((function(c){var r=t[c];if(!r)return!1;if(r.receipt)return!1;var a=r.approval;return!!a&&(a.spender===n&&a.tokenAddress===e&&function(e){return(new Date).getTime()-e.addedTime<864e5}(r))}))}),[t,n,e])}},404:function(e,n,t){"use strict";t.d(n,"a",(function(){return x}));var c,r,a,i=t(38),o=t(0),s=t.n(o),u=t(39),l=t(7),d=u.c.div(c||(c=Object(i.a)(["\n  align-items: center;\n  background-color: ","00;\n  display: flex;\n  height: 96px;\n  margin: ","px ","px\n    ","px;\n  padding: 0 ","px;\n"])),(function(e){return e.theme.color.grey[100]}),(function(e){return e.theme.spacing[4]}),(function(e){return-e.theme.spacing[4]}),(function(e){return-e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),b=u.c.div(r||(r=Object(i.a)(["\n  flex: 1;\n"]))),j=u.c.div(a||(a=Object(i.a)(["\n  width: ","px;\n"])),(function(e){return e.theme.spacing[4]})),x=function(e){var n=e.children,t=s.a.Children.toArray(n).length;return Object(l.jsx)(d,{children:s.a.Children.map(n,(function(e,n){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b,{children:e}),n<t-1&&Object(l.jsx)(j,{})]})}))})}},411:function(e,n,t){"use strict";t.d(n,"a",(function(){return j}));var c=t(1),r=t(11),a=t(57),i=t(30),o=t(0),s=t(391),u=t(468),l=t(170),d=a.a.constants.MaxUint256,b=i.a.from("1000000000000000000000000"),j=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_APPROVED=1]="NOT_APPROVED",e[e.PENDING=2]="PENDING",e[e.APPROVED=3]="APPROVED",e}({});n.b=function(e,n){var t=Object(s.a)(e.address,n),a=Object(u.a)(e,n,t),i=Object(o.useMemo)((function(){return a?a.lt(b)?t?j.PENDING:j.NOT_APPROVED:j.APPROVED:j.UNKNOWN}),[a,t]),x=Object(s.b)(),p=Object(o.useCallback)(Object(r.a)(Object(c.a)().mark((function t(){var r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i===j.NOT_APPROVED){t.next=3;break}return console.error("approve was called unnecessarily"),t.abrupt("return");case 3:return t.prev=3,t.next=6,e.approve(n,d);case 6:r=t.sent,x(r,{summary:"Approve ".concat(e.symbol),approval:{tokenAddress:e.address,spender:n}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),Object(l.a)("failedTx");case 13:case"end":return t.stop()}}),t,null,[[3,10]])}))),[i,e,n,x]);return{approveStatus:i,approve:p}}},419:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));var c,r,a,i,o,s,u=t(38),l=(t(0),t(39)),d=t(1624),b=t(7),j=l.c.div(c||(c=Object(u.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: ","px;\n  display: flex;\n  padding: 0 ","px;\n"])),(function(e){return e.theme.color.grey[200]}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.spacing[3]})),x=l.c.input(r||(r=Object(u.a)(["\n  background: none;\n  border: 0;\n  color: ",";\n  font-size: 18px;\n  flex: 1;\n  height: 56px;\n  margin: 0;\n  padding: 0;\n  outline: none;\n"])),(function(e){return e.theme.color.grey[600]})),p=function(e){var n=e.endAdornment,t=e.onChange,c=e.placeholder,r=e.startAdornment,a=e.value;return Object(b.jsxs)(j,{children:[!!r&&r,Object(b.jsx)(x,{placeholder:c,type:"number",value:a,onChange:t}),!!n&&n]})},f=l.c.div(a||(a=Object(u.a)([""]))),O=l.c.div(i||(i=Object(u.a)(["\n  width: ","px;\n"])),(function(e){return e.theme.spacing[3]})),h=l.c.div(o||(o=Object(u.a)(["\n  align-items: center;\n  display: flex;\n"]))),m=l.c.div(s||(s=Object(u.a)(["\n  align-items: center;\n  color: #fff;\n  display: flex;\n  font-size: 14px;\n  font-weight: 700;\n  height: 44px;\n  justify-content: flex-end;\n"]))),g=function(e){var n=e.max,t=e.symbol,c=e.onChange,r=e.onSelectMax,a=e.value;return Object(b.jsxs)(f,{children:[Object(b.jsxs)(m,{children:[n.toLocaleString()," ",t," Available"]}),Object(b.jsx)(p,{endAdornment:Object(b.jsxs)(h,{children:[Object(b.jsx)(O,{}),Object(b.jsx)("div",{children:Object(b.jsx)(d.a,{size:"small",color:"primary",variant:"contained",onClick:r,children:Object(b.jsx)("span",{style:{color:"#fff"},children:"Max"})})})]}),onChange:c,placeholder:"0",value:a})]})}},420:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));t(0);var c=t(467),r=t(431),a=t(7),i=function(){return Object(a.jsx)(c.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(a.jsx)(r.a,{})})}},468:function(e,n,t){"use strict";var c=t(1),r=t(11),a=t(22),i=t(0),o=t(67);n.a=function(e,n,t){var s=Object(i.useState)(null),u=Object(a.a)(s,2),l=u[0],d=u[1],b=Object(o.b)().account,j=Object(i.useCallback)(Object(r.a)(Object(c.a)().mark((function t(){var r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.allowance(b,n);case 2:r=t.sent,d(r);case 4:case"end":return t.stop()}}),t)}))),[b,n,e]);return Object(i.useEffect)((function(){b&&n&&e&&j().catch((function(e){return console.error("Failed to fetch allowance: ".concat(e.stack))}))}),[b,n,e,t,j]),l}},531:function(e,n,t){"use strict";t.d(n,"a",(function(){return x}));var c,r,a,i=t(38),o=t(0),s=t(39),u=t(193),l=t(7),d=s.c.button(c||(c=Object(i.a)(["\n  align-items: center;\n  background-color: ",";\n  border: 0;\n  border-radius: 12px;\n  box-shadow: ",";\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-size: ","px;\n  font-weight: 700;\n  height: ","px;\n  justify-content: center;\n  outline: none;\n  padding-left: ","px;\n  padding-right: ","px;\n  pointer-events: ",";\n  width: 100%;\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.color.grey[900]}),(function(e){return e.boxShadow}),(function(e){return e.disabled?"".concat(e.color,"55"):e.color}),(function(e){return e.fontSize}),(function(e){return e.size}),(function(e){return e.padding}),(function(e){return e.padding}),(function(e){return e.disabled?"none":void 0}),(function(e){return e.color}),(function(e){return e.theme.color.grey[900]})),b=Object(s.c)(u.b)(r||(r=Object(i.a)(["\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ","px;\n  padding: 0 ","px;\n  text-decoration: none;\n"])),(function(e){return-e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),j=s.c.a(a||(a=Object(i.a)(["\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ","px;\n  padding: 0 ","px;\n  text-decoration: none;\n"])),(function(e){return-e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),x=function(e){var n,t,c,r,a=e.children,i=e.disabled,u=e.href,x=e.onClick,p=e.size,f=e.text,O=e.to,h=e.variant,m=Object(o.useContext)(s.a),g=m.color,v=m.spacing;if("secondary"===h)n=g.teal[200];else n=g.primary.main;switch(p){case"sm":c=v[3],t=36,r=14;break;case"lg":c=v[4],t=72,r=16;break;default:c=v[4],t=56,r=16}var y=Object(o.useMemo)((function(){return O?Object(l.jsx)(b,{to:O,children:f}):u?Object(l.jsx)(j,{href:u,target:"__blank",children:f}):f}),[u,f,O]);return Object(l.jsxs)(d,{boxShadow:undefined,color:n,disabled:i,fontSize:r,onClick:x,padding:c,size:t,children:[a,y]})}},549:function(e,n,t){"use strict";function c(e,n){var t=function(e,n){var t=Math.pow(10,n||0);return Math.round(e*t)/t}(e,n),c=function(e){var n=e.toString(),t=/\B(?=(\d{3})+(?!\d))/g;if(-1===n.indexOf("."))n=n.replace(t,",");else{var c=n.split("."),r=c[0].replace(t,","),a=c[1];1===a.length&&"0"!==a&&(a+="0"),n="".concat(r,".").concat(a)}return n}(t);return c}t.d(n,"a",(function(){return c}))},603:function(e,n,t){"use strict";var c=t(1),r=t(11),a=t(22),i=t(0),o=t(192),s=t(361);n.a=function(){var e=Object(i.useState)(),n=Object(a.a)(e,2),t=n[0],u=n[1],l=Object(s.a)().slowRefresh,d=Object(o.a)();return Object(i.useEffect)((function(){function e(){return(e=Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=u,e.next=4,d.getBondStat();case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.error(e.t2);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[u,d,l]),t}},611:function(e,n,t){"use strict";var c=t(1),r=t(11),a=t(22),i=t(0),o=t(192),s=t(42),u=t(30);n.a=function(){var e=Object(i.useState)(u.a.from(0)),n=Object(a.a)(e,2),t=n[0],l=n[1],d=Object(o.a)(),b=Object(i.useCallback)(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,d.getGrapePriceInLastTWAP();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[d]);return Object(i.useEffect)((function(){b().catch((function(e){return console.error("Failed to fetch GRAPE price: ".concat(e.stack))}));var e=setInterval(b,s.b.refreshInterval);return function(){return clearInterval(e)}}),[l,d,b]),t}}}]);
//# sourceMappingURL=21.5693d0b8.chunk.js.map