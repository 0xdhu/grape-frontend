{"version":3,"sources":["../node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js","views/Raffle/components/ExchangeModal.tsx","views/Raffle/components/ExchangeCard.tsx","views/Raffle/Raffle.tsx","state/transactions/hooks.tsx","components/ModalActions/ModalActions.tsx","components/Input/Input.tsx","components/TokenInput/TokenInput.tsx","components/UnlockWallet/UnlockWallet.tsx","components/Button/Button.tsx","hooks/useRaffleBalance.ts","components/LaunchCountdown/LaunchCountdown.tsx","components/LaunchCountdown/index.ts"],"names":["SIZE","CircularProgress","React","props","ref","classes","className","_props$color","color","_props$disableShrink","disableShrink","_props$size","size","style","_props$thickness","thickness","_props$value","value","_props$variant","variant","other","_objectWithoutProperties","circleStyle","rootStyle","rootProps","circumference","Math","PI","strokeDasharray","toFixed","round","strokeDashoffset","concat","transform","_extends","clsx","root","capitalize","determinate","indeterminate","static","width","height","role","svg","viewBox","circle","circleDisableShrink","circleDeterminate","circleIndeterminate","circleStatic","cx","cy","r","fill","strokeWidth","withStyles","theme","display","transition","transitions","create","animation","colorPrimary","palette","primary","main","colorSecondary","secondary","stroke","transformOrigin","name","flip","ExchangeModal","_ref","max","title","description","onConfirm","onDismiss","action","tokenName","_useState","useState","_useState2","_slicedToArray","val","setVal","fullBalance","useMemo","getFullDisplayBalance","handleChange","useCallback","e","currentTarget","handleSelectMax","_jsxs","Modal","children","_jsx","ModalTitle","text","TokenInput","onSelectMax","onChange","symbol","Label","ModalActions","Button","onClick","StyledCardTitle","styled","div","_templateObject","_taggedTemplateLiteral","spacing","StyledCardIcon","_templateObject2","StyledExchanger","_templateObject3","StyledToken","_templateObject4","StyledCardActions","_templateObject5","StyledDesc","span","_templateObject6","StyledCardContentInner","_templateObject7","ExchangeCard","fromToken","fromTokenName","priceDesc","toToken","toTokenName","onExchange","_ref$disabled","disabled","disabledDescription","balance","useTokenBalance","_useModal","useModal","_useModal2","onPresent","Card","CardContent","TokenSymbol","StyledBond","StyledCardWrapper","Raffle","startDate","Date","endDate","raffleAddress","account","useWallet","grapeFinance","useGrapeFinance","addTransaction","useTransactionAdder","raffleStats","useRaffleStats","startTime","Number","endTime","grapePrice","tokenInFtm","raffleBals","totalSupply","userBals","priceInDollars","handleBuyBonds","_asyncToGenerator","_regeneratorRuntime","mark","_callee","amount","tx","wrap","_context","prev","next","sendGrape","sent","summary","stop","_x","apply","arguments","Switch","Page","_Fragment","Grid","item","xs","md","lg","fontSize","textAlign","now","LaunchCountdown","deadline","descriptionLink","container","justify","marginTop","sm","marginLeft","GRAPE","GBOND","UnlockWallet","_useWallet","chainId","dispatch","useDispatch","response","length","undefined","approval","hash","Error","from","useAllTransactions","_state$chainId","state","useSelector","transactions","useHasPendingApproval","tokenAddress","spender","allTransactions","Object","keys","some","receipt","getTime","addedTime","isTransactionRecent","StyledModalActions","grey","StyledModalAction","StyledSpacer","l","Children","toArray","map","child","i","StyledInputWrapper","borderRadius","StyledInput","input","Input","endAdornment","placeholder","startAdornment","type","StyledTokenInput","StyledTokenAdornmentWrapper","StyledMaxText","toLocaleString","Box","alignItems","justifyContent","AccountButton","StyledButton","button","boxShadow","padding","StyledLink","Link","StyledExternalLink","a","buttonColor","buttonSize","buttonPadding","href","to","_useContext","useContext","ThemeContext","teal","ButtonChild","target","stat","setStat","fastRefresh","useRefresh","useEffect","_fetchGrapePrice","t0","getRaffleStat","t1","t2","console","error","fetchGrapePrice","StyledCard","StyledCountdownWrapper","StyledCountdownTitle","p","StyledCountdown","Countdown","date","renderer","countdownProps","days","hours","minutes","seconds","h","String","m","s","padStart"],"mappings":"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","file":"static/js/22.40790957.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nvar SIZE = 44;\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-block'\n    },\n\n    /* Styles applied to the root element if `variant=\"static\"`. */\n    static: {\n      transition: theme.transitions.create('transform')\n    },\n\n    /* Styles applied to the root element if `variant=\"indeterminate\"`. */\n    indeterminate: {\n      animation: '$circular-rotate 1.4s linear infinite'\n    },\n\n    /* Styles applied to the root element if `variant=\"determinate\"`. */\n    determinate: {\n      transition: theme.transitions.create('transform')\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the `svg` element. */\n    svg: {\n      display: 'block' // Keeps the progress centered\n\n    },\n\n    /* Styles applied to the `circle` svg path. */\n    circle: {\n      stroke: 'currentColor' // Use butt to follow the specification, by chance, it's already the default CSS value.\n      // strokeLinecap: 'butt',\n\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"static\"`. */\n    circleStatic: {\n      transition: theme.transitions.create('stroke-dashoffset')\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"indeterminate\"`. */\n    circleIndeterminate: {\n      animation: '$circular-dash 1.4s ease-in-out infinite',\n      // Some default value that looks fine waiting for the animation to kicks in.\n      strokeDasharray: '80px, 200px',\n      strokeDashoffset: '0px' // Add the unit to fix a Edge 16 and below bug.\n\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"determinate\"`. */\n    circleDeterminate: {\n      transition: theme.transitions.create('stroke-dashoffset')\n    },\n    '@keyframes circular-rotate': {\n      '0%': {\n        // Fix IE 11 wobbly\n        transformOrigin: '50% 50%'\n      },\n      '100%': {\n        transform: 'rotate(360deg)'\n      }\n    },\n    '@keyframes circular-dash': {\n      '0%': {\n        strokeDasharray: '1px, 200px',\n        strokeDashoffset: '0px'\n      },\n      '50%': {\n        strokeDasharray: '100px, 200px',\n        strokeDashoffset: '-15px'\n      },\n      '100%': {\n        strokeDasharray: '100px, 200px',\n        strokeDashoffset: '-125px'\n      }\n    },\n\n    /* Styles applied to the `circle` svg path if `disableShrink={true}`. */\n    circleDisableShrink: {\n      animation: 'none'\n    }\n  };\n};\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\n\nvar CircularProgress = /*#__PURE__*/React.forwardRef(function CircularProgress(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$disableShrink = props.disableShrink,\n      disableShrink = _props$disableShrink === void 0 ? false : _props$disableShrink,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 40 : _props$size,\n      style = props.style,\n      _props$thickness = props.thickness,\n      thickness = _props$thickness === void 0 ? 3.6 : _props$thickness,\n      _props$value = props.value,\n      value = _props$value === void 0 ? 0 : _props$value,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'indeterminate' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"disableShrink\", \"size\", \"style\", \"thickness\", \"value\", \"variant\"]);\n\n  var circleStyle = {};\n  var rootStyle = {};\n  var rootProps = {};\n\n  if (variant === 'determinate' || variant === 'static') {\n    var circumference = 2 * Math.PI * ((SIZE - thickness) / 2);\n    circleStyle.strokeDasharray = circumference.toFixed(3);\n    rootProps['aria-valuenow'] = Math.round(value);\n    circleStyle.strokeDashoffset = \"\".concat(((100 - value) / 100 * circumference).toFixed(3), \"px\");\n    rootStyle.transform = 'rotate(-90deg)';\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], {\n      'determinate': classes.determinate,\n      'indeterminate': classes.indeterminate,\n      'static': classes.static\n    }[variant]),\n    style: _extends({\n      width: size,\n      height: size\n    }, rootStyle, style),\n    ref: ref,\n    role: \"progressbar\"\n  }, rootProps, other), /*#__PURE__*/React.createElement(\"svg\", {\n    className: classes.svg,\n    viewBox: \"\".concat(SIZE / 2, \" \").concat(SIZE / 2, \" \").concat(SIZE, \" \").concat(SIZE)\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    className: clsx(classes.circle, disableShrink && classes.circleDisableShrink, {\n      'determinate': classes.circleDeterminate,\n      'indeterminate': classes.circleIndeterminate,\n      'static': classes.circleStatic\n    }[variant]),\n    style: circleStyle,\n    cx: SIZE,\n    cy: SIZE,\n    r: (SIZE - thickness) / 2,\n    fill: \"none\",\n    strokeWidth: thickness\n  })));\n});\nprocess.env.NODE_ENV !== \"production\" ? CircularProgress.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary']),\n\n  /**\n   * If `true`, the shrink animation is disabled.\n   * This only works if variant is `indeterminate`.\n   */\n  disableShrink: chainPropTypes(PropTypes.bool, function (props) {\n    if (props.disableShrink && props.variant && props.variant !== 'indeterminate') {\n      return new Error('Material-UI: You have provided the `disableShrink` prop ' + 'with a variant other than `indeterminate`. This will have no effect.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * The size of the circle.\n   * If using a number, the pixel unit is assumed.\n   * If using a string, you need to provide the CSS unit, e.g '3rem'.\n   */\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The thickness of the circle.\n   */\n  thickness: PropTypes.number,\n\n  /**\n   * The value of the progress indicator for the determinate variant.\n   * Value between 0 and 100.\n   */\n  value: PropTypes.number,\n\n  /**\n   * The variant to use.\n   * Use indeterminate when there is no progress value.\n   */\n  variant: chainPropTypes(PropTypes.oneOf(['determinate', 'indeterminate', 'static']), function (props) {\n    var variant = props.variant;\n\n    if (variant === 'static') {\n      throw new Error('Material-UI: `variant=\"static\"` was deprecated. Use `variant=\"determinate\"` instead.');\n    }\n\n    return null;\n  })\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCircularProgress',\n  flip: false\n})(CircularProgress);","import React, {useCallback, useMemo, useState} from 'react';\nimport Button from '../../../components/Button';\nimport Modal, {ModalProps} from '../../../components/Modal';\nimport ModalActions from '../../../components/ModalActions';\nimport ModalTitle from '../../../components/ModalTitle';\nimport TokenInput from '../../../components/TokenInput';\nimport {getFullDisplayBalance} from '../../../utils/formatBalance';\nimport {BigNumber} from 'ethers';\nimport Label from '../../../components/Label';\n\ninterface ExchangeModalProps extends ModalProps {\n  max: BigNumber;\n  onConfirm: (amount: string) => void;\n  title: string;\n  description: string;\n  action: string;\n  tokenName: string;\n}\n\nconst ExchangeModal: React.FC<ExchangeModalProps> = ({\n  max,\n  title,\n  description,\n  onConfirm,\n  onDismiss,\n  action,\n  tokenName,\n}) => {\n  const [val, setVal] = useState('');\n  const fullBalance = useMemo(() => getFullDisplayBalance(max), [max]);\n\n  const handleChange = useCallback((e: React.FormEvent<HTMLInputElement>) => setVal(e.currentTarget.value), [setVal]);\n\n  const handleSelectMax = useCallback(() => {\n    setVal(fullBalance);\n  }, [fullBalance, setVal]);\n\n  return (\n    <Modal>\n      <ModalTitle text={title} />\n      <TokenInput\n        value={val}\n        onSelectMax={handleSelectMax}\n        onChange={handleChange}\n        max={fullBalance}\n        symbol={tokenName}\n      />\n      <Label text={description} />\n      <ModalActions>\n        <Button text=\"Cancel\" onClick={onDismiss} />\n        <Button text={action} onClick={() => onConfirm(val)} />\n      </ModalActions>\n    </Modal>\n  );\n};\n\nexport default ExchangeModal;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport {Button, Card} from '@material-ui/core';\n\nimport CardContent from '../../../components/CardContent';\n\nimport Label from '../../../components/Label';\nimport TokenSymbol from '../../../components/TokenSymbol';\n\nimport useModal from '../../../hooks/useModal';\nimport ExchangeModal from './ExchangeModal';\nimport ERC20 from '../../../grape-finance/ERC20';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\n\ninterface ExchangeCardProps {\n  action: string;\n  fromToken: ERC20;\n  fromTokenName: string;\n  toToken: ERC20;\n  toTokenName: string;\n  priceDesc: string;\n  onExchange: (amount: string) => void;\n  disabled?: boolean;\n  disabledDescription?: string;\n}\n\nconst ExchangeCard: React.FC<ExchangeCardProps> = ({\n  action,\n  fromToken,\n  fromTokenName,\n  toToken,\n  toTokenName,\n  priceDesc,\n  onExchange,\n  disabled = false,\n  disabledDescription,\n}) => {\n\n  const balance = useTokenBalance(fromToken);\n  const [onPresent, onDismiss] = useModal(\n    <ExchangeModal\n      title={action}\n      description={priceDesc}\n      max={balance}\n      onConfirm={(value) => {\n        onExchange(value);\n        onDismiss();\n      }}\n      action={action}\n      tokenName={fromTokenName}\n    />,\n  );\n  return (\n    <Card>\n      <CardContent>\n        <StyledCardContentInner>\n          <StyledCardTitle>{`Send GRAPE to enter the raffle`}</StyledCardTitle>\n          <StyledExchanger>\n            <StyledToken>\n              <StyledCardIcon>\n                <TokenSymbol symbol={fromToken.symbol} />\n              </StyledCardIcon>\n              <Label text={fromTokenName} color=\"#930993\" />\n            </StyledToken>                     \n          </StyledExchanger>\n          <StyledDesc>{priceDesc}</StyledDesc>\n          <StyledCardActions>\n              <Button\n                className={disabled ? 'shinyButtonDisabled' : 'shinyButton'}\n                onClick={onPresent}\n                disabled={disabled}\n              >\n                {disabledDescription || action}\n                </Button>\n          </StyledCardActions>\n        </StyledCardContentInner>\n      </CardContent>\n    </Card>\n  );\n};\n\nconst StyledCardTitle = styled.div`\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  color: #ccf;\n  margin-top: ${(props) => -props.theme.spacing[3]}px;\n`;\n\nconst StyledCardIcon = styled.div`\n  background-color: rgba(0,0,0,0.2);\n  width: 80px;\n  height: 80px;\n  border-radius: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: ${(props) => props.theme.spacing[2]}px;\n`;\n\nconst StyledExchanger = styled.div`\n  align-items: center;\n  display: flex;\n  margin-bottom: ${(props) => props.theme.spacing[5]}px;\n`;\n\nconst StyledToken = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  font-weight: 600;\n`;\n\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${(props) => props.theme.spacing[3]}px;\n  width: 50%;\n`;\n\nconst StyledDesc = styled.span``;\n\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport default ExchangeCard;\n","import React, {useCallback, useMemo} from 'react';\nimport Page from '../../components/Page';\nimport {Switch} from 'react-router-dom';\nimport {useWallet} from 'use-wallet';\nimport UnlockWallet from '../../components/UnlockWallet';\nimport ExchangeCard from './components/ExchangeCard';\nimport styled from 'styled-components';\n\nimport useRaffleStats from '../../hooks/useRaffleBalance';\nimport useGrapeFinance from '../../hooks/useGrapeFinance';\nimport {useTransactionAdder} from '../../state/transactions/hooks';\nimport {Card, Grid, CircularProgress} from '@material-ui/core';\n\nimport LaunchCountdown from '../../components/LaunchCountdown';\n\nconst Raffle: React.FC = () => {\n  // compatible format for most browser + metamask browser. Needs to be YYYY-MM-ddTHH:mm:ssZ\n  const startDate = new Date('2022-07-01T23:00:00Z');\n  const endDate = new Date('2022-07-05T00:00:00Z');\n\n  const raffleAddress = '0xA3F2C4D813d75E26335ddE70DcFd703996Ae25D8';\n\n  const {account} = useWallet();\n  const grapeFinance = useGrapeFinance();\n  const addTransaction = useTransactionAdder();\n  const raffleStats = useRaffleStats(account, raffleAddress);\n\n  const startTime = Number(startDate);\n  const endTime = Number(endDate);\n\n  const grapePrice = useMemo(() => (raffleStats ? Number(raffleStats.tokenInFtm).toFixed(2) : null), [raffleStats]);\n\n  const raffleBals = useMemo(() => (raffleStats ? Number(raffleStats.totalSupply).toFixed(0) : null), [raffleStats]);\n\n  const userBals = useMemo(() => (raffleStats ? Number(raffleStats.priceInDollars).toFixed(0) : null), [raffleStats]);\n\n  const handleBuyBonds = useCallback(\n    async (amount: string) => {\n      const tx = await grapeFinance.sendGrape(amount, raffleAddress);\n      addTransaction(tx, {\n        summary: `Send ${Number(amount).toFixed(2)} GRAPE to the raffle ${amount} `,\n      });\n    },\n    [grapeFinance, addTransaction],\n  );\n\n  return (\n    <Switch>\n      <Page>\n        {!!account ? (\n          <>\n            <Grid item xs={12} md={12} lg={12}>\n              <h1 style={{fontSize: '80px', textAlign: 'center', color: '#fff'}}>WINE Raffle</h1>\n              <p style={{fontSize: '20px', textAlign: 'center', color: '#fff'}}>\n                Community raffle where you have the chance to win WINE just by sending in your freely earned Grape\n                rewards.<br></br> <br></br> 1 Grape = 1 entry and there are unlimited entries per address, the more\n                Grape you send the more chance you have to win. The winner will be chosen at random.\n              </p>\n              <p style={{fontSize: '20px', textAlign: 'center', color: '#fff'}}>Raffle address: {raffleAddress}</p>\n            </Grid>\n            {Date.now() > endTime ? (\n              <h1 style={{fontSize: '60px', textAlign: 'center', color: '#fff'}}>Raffle Closed</h1>\n            ) : (\n              <h1 style={{fontSize: '60px', textAlign: 'center'}}>Raffle Open</h1>\n            )}\n\n            <Grid item xs={12} md={12} lg={12}>\n              {Date.now() < startTime ? (\n                <LaunchCountdown\n                  deadline={startDate}\n                  description={'Raffle Starts In'}\n                  descriptionLink={''}\n                ></LaunchCountdown>\n              ) : (\n                <LaunchCountdown\n                  deadline={endDate}\n                  description={'Raffle Closes In'}\n                  descriptionLink={''}\n                ></LaunchCountdown>\n              )}\n            </Grid>\n\n            <Grid container justify=\"center\" spacing={3} style={{marginTop: '10px'}}>\n              <Grid item xs={12} sm={12} lg={6}>\n                <Card>\n                  <h2 style={{textAlign: 'center', marginTop: '10px'}}>Raffle Stats</h2>\n                  <p style={{textAlign: 'center'}}>6 WINE up for grabs this raffle</p>\n                  <p style={{textAlign: 'center'}}>\n                    Grape Price: $\n                    {grapePrice ? (\n                      grapePrice\n                    ) : (\n                      <CircularProgress style={{marginLeft: '10px'}} size={15} color=\"inherit\" />\n                    )}\n                  </p>\n                  <p style={{textAlign: 'center'}}>\n                    Total Grape Entered:{' '}\n                    {raffleBals ? (\n                      raffleBals\n                    ) : (\n                      <CircularProgress style={{marginLeft: '10px'}} size={15} color=\"inherit\" />\n                    )}\n                  </p>\n                  <p style={{textAlign: 'center'}}>\n                    Your entries:{' '}\n                    {userBals ? userBals : <CircularProgress style={{marginLeft: '10px'}} size={15} color=\"inherit\" />}\n                  </p>\n                  <p style={{textAlign: 'center'}}>Your account: {account}</p>\n                </Card>\n              </Grid>\n              <Grid item xs={12} sm={12} lg={6}>\n                <StyledBond>\n                  <StyledCardWrapper>\n                    <ExchangeCard\n                      action=\"Enter Raffle\"\n                      fromToken={grapeFinance.GRAPE}\n                      fromTokenName=\"GRAPE\"\n                      toToken={grapeFinance.GBOND}\n                      toTokenName=\"GBOND\"\n                      priceDesc={\n                        Date.now() < endTime && Date.now() > startTime\n                          ? 'Raffle is open! 1 GRAPE = 1 Entry'\n                          : 'Raffle is currently closed'\n                      }\n                      disabled={Date.now() < endTime && Date.now() > startTime ? false : true}\n                      onExchange={handleBuyBonds}\n                    />\n                  </StyledCardWrapper>\n                </StyledBond>\n              </Grid>\n            </Grid>\n          </>\n        ) : (\n          <UnlockWallet />\n        )}\n      </Page>\n    </Switch>\n  );\n};\n\nconst StyledBond = styled.div`\n  display: flex;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n`;\n\nconst StyledCardWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n`;\n\nexport default Raffle;\n","import {TransactionResponse} from '@ethersproject/providers';\nimport {useCallback, useMemo} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {useWallet} from 'use-wallet';\n\nimport {AppDispatch, AppState} from '../index';\nimport {addTransaction, clearAllTransactions} from './actions';\nimport {TransactionDetails} from './reducer';\n\n// helper that can take a ethers library transaction response and add it to the list of transactions\nexport function useTransactionAdder(): (\n  response: TransactionResponse,\n  customData?: {summary?: string; approval?: {tokenAddress: string; spender: string}},\n) => void {\n  const {chainId, account} = useWallet();\n  const dispatch = useDispatch<AppDispatch>();\n\n  return useCallback(\n    (\n      response: TransactionResponse,\n      {summary, approval}: {summary?: string; approval?: {tokenAddress: string; spender: string}} = {},\n    ) => {\n      if (!account) return;\n      if (!chainId) return;\n\n      const {hash} = response;\n\n      if (!hash) {\n        throw Error('No transaction hash found.');\n      }\n      dispatch(addTransaction({hash, from: account, chainId, approval, summary}));\n    },\n    [dispatch, chainId, account],\n  );\n}\n\n// returns all the transactions for the current chain\nexport function useAllTransactions(): {[txHash: string]: TransactionDetails} {\n  const {chainId} = useWallet();\n  const state = useSelector<AppState, AppState['transactions']>((state) => state.transactions);\n\n  return chainId ? state[chainId] ?? {} : {};\n}\n\nexport function useIsTransactionPending(transactionHash?: string): boolean {\n  const transactions = useAllTransactions();\n  if (!transactionHash || !transactions[transactionHash]) {\n    return false;\n  }\n\n  return !transactions[transactionHash].receipt;\n}\n\n/**\n * Returns whether a transaction happened in the last day (86400 seconds * 1000 milliseconds / second)\n * @param tx to check for recency\n */\nexport function isTransactionRecent(tx: TransactionDetails): boolean {\n  return new Date().getTime() - tx.addedTime < 86_400_000;\n}\n\n// returns whether a token has a pending approval transaction\nexport function useHasPendingApproval(tokenAddress: string | undefined, spender: string | undefined): boolean {\n  const allTransactions = useAllTransactions();\n  return useMemo(\n    () =>\n      typeof tokenAddress === 'string' &&\n      typeof spender === 'string' &&\n      Object.keys(allTransactions).some((hash) => {\n        const tx = allTransactions[hash];\n        if (!tx) return false;\n        if (tx.receipt) {\n          return false;\n        } else {\n          const approval = tx.approval;\n          if (!approval) return false;\n          return approval.spender === spender && approval.tokenAddress === tokenAddress && isTransactionRecent(tx);\n        }\n      }),\n    [allTransactions, spender, tokenAddress],\n  );\n}\n\nexport function useClearAllTransactions(): {clearAllTransactions: () => void} {\n  const {chainId} = useWallet();\n  const dispatch = useDispatch<AppDispatch>();\n  return {\n    clearAllTransactions: useCallback(() => dispatch(clearAllTransactions({chainId})), [dispatch, chainId]),\n  };\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst ModalActions: React.FC = ({children}) => {\n  const l = React.Children.toArray(children).length;\n  return (\n    <StyledModalActions>\n      {React.Children.map(children, (child, i) => (\n        <>\n          <StyledModalAction>{child}</StyledModalAction>\n          {i < l - 1 && <StyledSpacer />}\n        </>\n      ))}\n    </StyledModalActions>\n  );\n};\n\nconst StyledModalActions = styled.div`\n  align-items: center;\n  background-color: ${(props) => props.theme.color.grey[100]}00;\n  display: flex;\n  height: 96px;\n  margin: ${(props) => props.theme.spacing[4]}px ${(props) => -props.theme.spacing[4]}px\n    ${(props) => -props.theme.spacing[4]}px;\n  padding: 0 ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledModalAction = styled.div`\n  flex: 1;\n`;\n\nconst StyledSpacer = styled.div`\n  width: ${(props) => props.theme.spacing[4]}px;\n`;\n\nexport default ModalActions;\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport interface InputProps {\n  endAdornment?: React.ReactNode;\n  onChange: (e: React.FormEvent<HTMLInputElement>) => void;\n  placeholder?: string;\n  startAdornment?: React.ReactNode;\n  value: string;\n}\n\nconst Input: React.FC<InputProps> = ({endAdornment, onChange, placeholder, startAdornment, value}) => {\n  return (\n    <StyledInputWrapper>\n      {!!startAdornment && startAdornment}\n      <StyledInput placeholder={placeholder} type=\"number\" value={value} onChange={onChange} />\n      {!!endAdornment && endAdornment}\n    </StyledInputWrapper>\n  );\n};\n\nconst StyledInputWrapper = styled.div`\n  align-items: center;\n  background-color: ${(props) => props.theme.color.grey[200]};\n  border-radius: ${(props) => props.theme.borderRadius}px;\n  display: flex;\n  padding: 0 ${(props) => props.theme.spacing[3]}px;\n`;\n\nconst StyledInput = styled.input`\n  background: none;\n  border: 0;\n  color: ${(props) => props.theme.color.grey[600]};\n  font-size: 18px;\n  flex: 1;\n  height: 56px;\n  margin: 0;\n  padding: 0;\n  outline: none;\n`;\n\nexport default Input;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport {Button} from '@material-ui/core';\nimport Input, {InputProps} from '../Input';\n\ninterface TokenInputProps extends InputProps {\n  max: number | string;\n  symbol: string;\n  onSelectMax?: () => void;\n}\n\nconst TokenInput: React.FC<TokenInputProps> = ({max, symbol, onChange, onSelectMax, value}) => {\n  return (\n    <StyledTokenInput>\n      <StyledMaxText>\n        {max.toLocaleString()} {symbol} Available\n      </StyledMaxText>\n      <Input\n        endAdornment={\n          <StyledTokenAdornmentWrapper>\n            {/* <StyledTokenSymbol>{symbol}</StyledTokenSymbol> */}\n            <StyledSpacer />\n            <div>\n              <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={onSelectMax}>\n                <span style={{color: \"#fff\"}}>Max</span>\n              </Button>\n            </div>\n          </StyledTokenAdornmentWrapper>\n        }\n        onChange={onChange}\n        placeholder=\"0\"\n        value={value}\n      />\n    </StyledTokenInput>\n  );\n};\n\n/*\n            <div>\n              <Button size=\"sm\" text=\"Max\" />\n            </div>\n*/\n\nconst StyledTokenInput = styled.div``;\n\nconst StyledSpacer = styled.div`\n  width: ${(props) => props.theme.spacing[3]}px;\n`;\n\nconst StyledTokenAdornmentWrapper = styled.div`\n  align-items: center;\n  display: flex;\n`;\n\nconst StyledMaxText = styled.div`\n  align-items: center;\n  color: #fff;\n  display: flex;\n  font-size: 14px;\n  font-weight: 700;\n  height: 44px;\n  justify-content: flex-end;\n`;\n\nexport default TokenInput;\n","//@ts-nocheck\nimport React from 'react';\nimport {Box} from '@material-ui/core';\nimport AccountButton from '../Page/AccountButton';\n\nconst UnlockWallet = () => {\n  return (\n    <Box display={'flex'} alignItems={'center'} justifyContent=\"center\">\n      <AccountButton />\n    </Box>\n  );\n};\n\nexport default UnlockWallet;\n","import React, {useContext, useMemo} from 'react';\nimport styled, {ThemeContext} from 'styled-components';\n\nimport {Link} from 'react-router-dom';\n\ninterface ButtonProps {\n  children?: React.ReactNode;\n  disabled?: boolean;\n  href?: string;\n  onClick?: () => void;\n  size?: 'sm' | 'md' | 'lg';\n  text?: string;\n  to?: string;\n  variant?: 'default' | 'secondary' | 'tertiary';\n}\n\nconst Button: React.FC<ButtonProps> = ({children, disabled, href, onClick, size, text, to, variant}) => {\n  const {color, spacing} = useContext(ThemeContext);\n\n  let buttonColor: string;\n  switch (variant) {\n    case 'secondary':\n      buttonColor = color.teal[200];\n      break;\n    case 'default':\n    default:\n      buttonColor = color.primary.main;\n  }\n\n  let boxShadow: string;\n  let buttonSize: number;\n  let buttonPadding: number;\n  let fontSize: number;\n  switch (size) {\n    case 'sm':\n      buttonPadding = spacing[3];\n      buttonSize = 36;\n      fontSize = 14;\n      break;\n    case 'lg':\n      buttonPadding = spacing[4];\n      buttonSize = 72;\n      fontSize = 16;\n      break;\n    case 'md':\n    default:\n      buttonPadding = spacing[4];\n      buttonSize = 56;\n      fontSize = 16;\n  }\n\n  const ButtonChild = useMemo(() => {\n    if (to) {\n      return <StyledLink to={to}>{text}</StyledLink>;\n    } else if (href) {\n      return (\n        <StyledExternalLink href={href} target=\"__blank\">\n          {text}\n        </StyledExternalLink>\n      );\n    } else {\n      return text;\n    }\n  }, [href, text, to]);\n\n  return (\n    <StyledButton\n      boxShadow={boxShadow}\n      color={buttonColor}\n      disabled={disabled}\n      fontSize={fontSize}\n      onClick={onClick}\n      padding={buttonPadding}\n      size={buttonSize}\n    >\n      {children}\n      {ButtonChild}\n    </StyledButton>\n  );\n};\n\ninterface StyledButtonProps {\n  boxShadow: string;\n  color: string;\n  disabled?: boolean;\n  fontSize: number;\n  padding: number;\n  size: number;\n}\n\nconst StyledButton = styled.button<StyledButtonProps>`\n  align-items: center;\n  background-color: ${(props) => props.theme.color.grey[900]};\n  border: 0;\n  border-radius: 12px;\n  box-shadow: ${(props) => props.boxShadow};\n  color: ${(props) => (!props.disabled ? props.color : `${props.color}55`)};\n  cursor: pointer;\n  display: flex;\n  font-size: ${(props) => props.fontSize}px;\n  font-weight: 700;\n  height: ${(props) => props.size}px;\n  justify-content: center;\n  outline: none;\n  padding-left: ${(props) => props.padding}px;\n  padding-right: ${(props) => props.padding}px;\n  pointer-events: ${(props) => (!props.disabled ? undefined : 'none')};\n  width: 100%;\n  &:hover {\n    background-color: ${(props) => props.color};\n    color: ${(props) => props.theme.color.grey[900]};\n  }\n`;\n\nconst StyledLink = styled(Link)`\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ${(props) => -props.theme.spacing[4]}px;\n  padding: 0 ${(props) => props.theme.spacing[4]}px;\n  text-decoration: none;\n`;\n\nconst StyledExternalLink = styled.a`\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ${(props) => -props.theme.spacing[4]}px;\n  padding: 0 ${(props) => props.theme.spacing[4]}px;\n  text-decoration: none;\n`;\n\nexport default Button;\n","import {useEffect, useState} from 'react';\nimport useGrapeFinance from './useGrapeFinance';\nimport {TokenStat} from '../grape-finance/types';\nimport useRefresh from './useRefresh';\n\nconst useRaffleStats = (account: string, raffleAddress: string) => {\n  const [stat, setStat] = useState<TokenStat>();\n  const {fastRefresh} = useRefresh();\n  const grapeFinance = useGrapeFinance();\n  \n  useEffect(() => {\n    async function fetchGrapePrice() {\n      \n      try {\n        setStat(await grapeFinance.getRaffleStat(account, raffleAddress));\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    fetchGrapePrice();\n  }, [setStat, grapeFinance, fastRefresh]);\n\n  return stat;\n};\n\nexport default useRaffleStats;\n","//@ts-nocheck\nimport React from 'react';\nimport styled from 'styled-components';\nimport Countdown, {CountdownRenderProps} from 'react-countdown';\n\n\ninterface LaunchCountdownProps {\n  deadline: Date;\n  description: string;\n  descriptionLink: string;\n}\n\nconst LaunchCountdown: React.FC<LaunchCountdownProps> = ({deadline, description, descriptionLink}) => {\n\n  const countdownRenderer = (countdownProps: CountdownRenderProps) => {\n    const {days, hours, minutes, seconds} = countdownProps;\n    const h = String(days * 24 + hours);\n    const m = String(minutes);\n    const s = String(seconds);\n    return (\n      <StyledCountdown>\n        {h.padStart(2, '0')}:{m.padStart(2, '0')}:{s.padStart(2, '0')}\n      </StyledCountdown>\n    );\n  };\n  return (\n    <StyledCard>\n        <StyledCountdownWrapper>\n          <StyledCountdownTitle>{description}</StyledCountdownTitle>\n          <Countdown date={deadline} renderer={countdownRenderer} />\n        </StyledCountdownWrapper>\n    </StyledCard>\n  );\n};\n\nconst StyledCard = styled.div`\n  margin:0 auto;\n  background-color: rgba(0,0,0,0.5);\n  border: 0px solid ${(props) => props.theme.color.grey[900]};\n  box-sizing: border-box;\n  padding: 36px;\n  border-radius: 48px;\n  box-shadow: 5px 5px 5px 1px rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n`;\n\nconst StyledCountdownWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst StyledCountdownTitle = styled.p`\n  font-size: 20px;\n  color: #fff;\n  margin: 0;\n`;\n\nconst StyledCountdown = styled.p`\n  font-size: 40px;\n  color: #fff;\n  margin: 0;\n`;\n\n\nexport default LaunchCountdown;\n","import LaunchCountdown from './LaunchCountdown';\n\nexport default LaunchCountdown;\n"],"sourceRoot":""}